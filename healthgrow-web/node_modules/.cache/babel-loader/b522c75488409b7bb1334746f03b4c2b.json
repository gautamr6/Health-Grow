{"ast":null,"code":"var _jsxFileName = \"/Users/ksun/Downloads/350S20-43/healthgrow-web/src/components/dashboard.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Element } from 'react-faux-dom';\nimport axios from 'axios';\nimport * as d3 from \"d3\";\nimport '../App.css';\n\nconst Challenge = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }\n}, props.challenge.content), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }\n}, props.challenge.pointValue), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}, props.challenge.timeBegin), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }\n}, props.challenge.timeExpire), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.challenge._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 7\n  }\n}, \"edit\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteChallenge(props.challenge._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 61\n  }\n}, \"delete\")));\n\nconst Workout = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 7\n  }\n}, props.workout.email), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 7\n  }\n}, props.workout.workout), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 7\n  }\n}, props.workout.reps), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }\n}, props.workout.weight), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.workout._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }\n}, \"edit\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteWorkout(props.workout._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 61\n  }\n}, \"delete\")));\n\nconst Journal = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }\n}, props.journal.email), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }\n}, props.journal.title), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }\n}, props.journal.text), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.journal._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }\n}, \"edit\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteJournal(props.journal._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 61\n  }\n}, \"delete\")));\n\nconst Admin = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }\n}, props.admin.email), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.admin._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }\n}, \"edit\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteAdmin(props.admin._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 59\n  }\n}, \"delete\")));\n\nconst User = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }\n}, props.user.email), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }\n}, props.user.password), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 7\n  }\n}, props.user.name), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.user._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }\n}, \"edit\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteUser(props.user._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 58\n  }\n}, \"delete\")));\n\nconst Achievement = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 7\n  }\n}, props.achievement.model), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 7\n  }\n}, props.achievement.field), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 7\n  }\n}, props.achievement.operator), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 7\n  }\n}, props.achievement.condition), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit-achievement/\" + props.achievement._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }\n}, \"edit\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteAchievement(props.achievement._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 77\n  }\n}, \"delete\")));\n\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.deleteChallenge = this.deleteChallenge.bind(this);\n    this.deleteWorkout = this.deleteWorkout.bind(this);\n    this.deleteJournal = this.deleteJournal.bind(this);\n    this.deleteAdmin = this.deleteAdmin.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.deleteAchievement = this.deleteAchievement.bind(this);\n    this.onChangeUserSearch = this.onChangeUserSearch.bind(this);\n    this.state = {\n      challenges: [],\n      allworkouts: [],\n      alljournals: [],\n      admins: [],\n      allusers: [],\n      achievements: [],\n      usersearch: \"\",\n      workouts: [],\n      journals: [],\n      users: [],\n      data: []\n    };\n  }\n\n  onChangeUserSearch(e) {\n    this.setState({\n      usersearch: e.target.value\n    }, function () {\n      // execute after state is updated (also checkout componentDidUpdate)\n      this.setState({\n        workouts: this.state.allworkouts.filter(workout => workout.email.toLowerCase().includes(this.state.usersearch.toLowerCase())),\n        journals: this.state.alljournals.filter(journal => journal.email.toLowerCase().includes(this.state.usersearch.toLowerCase())),\n        users: this.state.allusers.filter(user => user.email.toLowerCase().includes(this.state.usersearch.toLowerCase()))\n      }, function () {\n        this.setState({\n          data: [{\n            name: 'Total Workouts',\n            value: this.uniqueWorkouts()\n          }, {\n            name: 'Total Reps',\n            value: this.repsSum()\n          }, {\n            name: 'Total Weight',\n            value: this.weightSum()\n          }]\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/challenges/').then(response => {\n      this.setState({\n        challenges: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:5000/workouts/').then(response => {\n      this.setState({\n        allworkouts: response.data,\n        workouts: response.data\n      });\n      this.setState({\n        data: [{\n          name: 'Total Workouts',\n          value: this.uniqueWorkouts()\n        }, {\n          name: 'Total Reps',\n          value: this.repsSum()\n        }, {\n          name: 'Total Weight',\n          value: this.weightSum()\n        }]\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:5000/journals/').then(response => {\n      this.setState({\n        alljournals: response.data,\n        journals: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:5000/admins/').then(response => {\n      this.setState({\n        admins: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:5000/users/').then(response => {\n      this.setState({\n        allusers: response.data,\n        users: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:5000/achievements/').then(response => {\n      this.setState({\n        achievements: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deleteChallenge(id) {\n    axios.delete('http://localhost:5000/challenges/' + id).then(res => console.log(res.data));\n    this.setState({\n      challenges: this.state.challenges.filter(el => el._id !== id)\n    });\n  }\n\n  deleteWorkout(id) {\n    axios.delete('http://localhost:5000/workouts/' + id).then(res => console.log(res.data));\n    this.setState({\n      workouts: this.state.workouts.filter(el => el._id !== id)\n    });\n  }\n\n  deleteJournal(id) {\n    axios.delete('http://localhost:5000/journals/' + id).then(res => console.log(res.data));\n    this.setState({\n      journals: this.state.journals.filter(el => el._id !== id)\n    });\n  }\n\n  deleteAdmin(id) {\n    axios.delete('http://localhost:5000/admins/' + id).then(res => console.log(res.data));\n    this.setState({\n      admins: this.state.admins.filter(el => el._id !== id)\n    });\n  }\n\n  deleteUser(id) {\n    axios.delete('http://localhost:5000/users/' + id).then(res => console.log(res.data));\n    this.setState({\n      users: this.state.users.filter(el => el._id !== id)\n    });\n  }\n\n  deleteAchievement(id) {\n    axios.delete('http://localhost:5000/achievements/' + id).then(res => console.log(res.data));\n    this.setState({\n      achievements: this.state.achievements.filter(el => el._id !== id)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 20\n      }\n    }, \"User Search\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.onChangeUserSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }\n    }, \"Users\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 15\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 15\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }\n    }, this.userList())), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }\n    }, \"Logged Workouts\"), this.drawChart(), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 15\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 15\n      }\n    }, \"Workout\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }, \"Reps\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, \"Weight\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }\n    }, this.workoutList())), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }\n    }, \"Logged Journals\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 15\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 15\n      }\n    }, \"Text\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    }, this.journalList())), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }\n    }, \"Admins\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 15\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }\n    }, this.adminList())), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }\n    }, \"Achievements\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 15\n      }\n    }, \"Model\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 15\n      }\n    }, \"Field\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 15\n      }\n    }, \"Operator\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 15\n      }\n    }, \"Condition\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }\n    }, this.achievementList())), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }\n    }, \"Daily Challenges\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 15\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 15\n      }\n    }, \"Point Value\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 15\n      }\n    }, \"Start Time\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 15\n      }\n    }, \"End Time\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }\n    }, this.challengeList())));\n  }\n\n  challengeList() {\n    return this.state.challenges.map(currentchallenge => {\n      return /*#__PURE__*/React.createElement(Challenge, {\n        challenge: currentchallenge,\n        deleteChallenge: this.deleteChallenge,\n        key: currentchallenge._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  workoutList() {\n    return this.state.workouts.map(currentworkout => {\n      return /*#__PURE__*/React.createElement(Workout, {\n        workout: currentworkout,\n        deleteWorkout: this.deleteWorkout,\n        key: currentworkout._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  plot(chart, width, height) {\n    // create scales!\n    const xScale = d3.scaleBand().domain(this.state.data.map(d => d.name)).range([0, width]);\n    const yScale = d3.scaleLinear().domain([0, d3.max(this.state.data, d => d.value)]).range([height, 0]);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n    chart.selectAll('.bar').data(this.state.data).enter().append('rect').classed('bar', true).attr('x', d => xScale(d.name)).attr('y', d => yScale(d.value)).attr('height', d => height - yScale(d.value)).attr('width', d => xScale.bandwidth()).style('fill', (d, i) => colorScale(i));\n    chart.selectAll('.bar-label').data(this.state.data).enter().append('text').classed('bar-label', true).attr('x', d => xScale(d.name) + xScale.bandwidth() / 2).attr('dx', 0).attr('y', d => yScale(d.value)).attr('dy', -6).text(d => d.value);\n    const xAxis = d3.axisBottom().scale(xScale);\n    chart.append('g').classed('x axis', true).attr('transform', `translate(0,${height})`).call(xAxis);\n    const yAxis = d3.axisLeft().ticks(5).scale(yScale);\n    chart.append('g').classed('y axis', true).attr('transform', 'translate(0,0)').call(yAxis);\n    chart.select('.x.axis').append('text').attr('x', width / 2).attr('y', 60).attr('fill', '#000').style('font-size', '20px').style('text-anchor', 'middle').text('Name');\n    chart.select('.y.axis').append('text').attr('x', 0).attr('y', 0).attr('transform', `translate(-50, ${height / 2}) rotate(-90)`).attr('fill', '#000').style('font-size', '20px').style('text-anchor', 'middle').text('Total');\n    const yGridlines = d3.axisLeft().scale(yScale).ticks(5).tickSize(-width, 0, 0).tickFormat('');\n    chart.append('g').call(yGridlines).classed('gridline', true);\n  }\n\n  drawChart() {\n    const width = 800;\n    const height = 450;\n    const el = new Element('div');\n    const svg = d3.select(el).append('svg').attr('id', 'chart').attr('width', width).attr('height', height);\n    const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n    };\n    const chart = svg.append('g').classed('display', true).attr('transform', `translate(${margin.left},${margin.top})`);\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    this.plot(chart, chartWidth, chartHeight);\n    return el.toReact();\n  }\n\n  uniqueWorkouts() {\n    var counts = {};\n\n    for (var i = 0; i < this.state.workouts.length; i++) {\n      counts[this.state.workouts[i].workout] = 1 + (counts[this.state.workouts[i].workout] || 0);\n    } // return Object.keys(counts).length;\n\n\n    return Object.keys(counts).reduce((sum, key) => sum + parseFloat(counts[key] || 0), 0);\n  }\n\n  repsSum() {\n    var sum = 0;\n    this.state.workouts.forEach(currentworkout => {\n      sum += currentworkout.reps;\n    });\n    return sum;\n  }\n\n  weightSum() {\n    var sum = 0;\n    this.state.workouts.forEach(currentworkout => {\n      sum += currentworkout.weight;\n    });\n    return sum;\n  }\n\n  journalList() {\n    return this.state.journals.map(currentjournal => {\n      return /*#__PURE__*/React.createElement(Journal, {\n        journal: currentjournal,\n        deleteJournal: this.deleteJournal,\n        key: currentjournal._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  adminList() {\n    return this.state.admins.map(currentadmin => {\n      return /*#__PURE__*/React.createElement(Admin, {\n        admin: currentadmin,\n        deleteAdmin: this.deleteAdmin,\n        key: currentadmin._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  userList() {\n    return this.state.users.map(currentuser => {\n      return /*#__PURE__*/React.createElement(User, {\n        user: currentuser,\n        deleteUser: this.deleteUser,\n        key: currentuser._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  achievementList() {\n    return this.state.achievements.map(currentachievement => {\n      return /*#__PURE__*/React.createElement(Achievement, {\n        achievement: currentachievement,\n        deleteAchievement: this.deleteAchievement,\n        key: currentachievement._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/ksun/Downloads/350S20-43/healthgrow-web/src/components/dashboard.component.js"],"names":["React","Component","Link","Element","axios","d3","Challenge","props","challenge","content","pointValue","timeBegin","timeExpire","_id","deleteChallenge","Workout","workout","email","reps","weight","deleteWorkout","Journal","journal","title","text","deleteJournal","Admin","admin","deleteAdmin","User","user","password","name","deleteUser","Achievement","achievement","model","field","operator","condition","deleteAchievement","Dashboard","constructor","bind","onChangeUserSearch","state","challenges","allworkouts","alljournals","admins","allusers","achievements","usersearch","workouts","journals","users","data","e","setState","target","value","filter","toLowerCase","includes","uniqueWorkouts","repsSum","weightSum","componentDidMount","get","then","response","catch","error","console","log","id","delete","res","el","render","userList","drawChart","workoutList","journalList","adminList","achievementList","challengeList","map","currentchallenge","currentworkout","plot","chart","width","height","xScale","scaleBand","domain","d","range","yScale","scaleLinear","max","colorScale","scaleOrdinal","schemeCategory10","selectAll","enter","append","classed","attr","bandwidth","style","i","xAxis","axisBottom","scale","call","yAxis","axisLeft","ticks","select","yGridlines","tickSize","tickFormat","svg","margin","top","bottom","left","right","chartWidth","chartHeight","toReact","counts","length","Object","keys","reduce","sum","key","parseFloat","forEach","currentjournal","currentadmin","currentuser","currentachievement"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Element } from 'react-faux-dom';\nimport axios from 'axios';\nimport * as d3 from \"d3\"; \nimport '../App.css'; \n\nconst Challenge = props => (\n  <tr>\n    <td>{props.challenge.content}</td>\n    <td>{props.challenge.pointValue}</td>\n    <td>{props.challenge.timeBegin}</td>\n    <td>{props.challenge.timeExpire}</td>\n    <td>\n      <Link to={\"/edit/\"+props.challenge._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteChallenge(props.challenge._id) }}>delete</a>\n    </td>\n  </tr>\n)\n\nconst Workout = props => (\n    <tr>\n      <td>{props.workout.email}</td>\n      <td>{props.workout.workout}</td>\n      <td>{props.workout.reps}</td>\n      <td>{props.workout.weight}</td>\n      <td>\n        <Link to={\"/edit/\"+props.workout._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteWorkout(props.workout._id) }}>delete</a>\n      </td>\n    </tr>\n  )\n\n  const Journal = props => (\n    <tr>\n      <td>{props.journal.email}</td>\n      <td>{props.journal.title}</td>\n      <td>{props.journal.text}</td>\n      <td>\n        <Link to={\"/edit/\"+props.journal._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteJournal(props.journal._id) }}>delete</a>\n      </td>\n    </tr>\n  )\n\n  const Admin = props => (\n    <tr>\n      <td>{props.admin.email}</td>\n      <td>\n        <Link to={\"/edit/\"+props.admin._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteAdmin(props.admin._id) }}>delete</a>\n      </td>\n    </tr>\n  )\n\n  const User = props => (\n    <tr>\n      <td>{props.user.email}</td>\n      <td>{props.user.password}</td>\n      <td>{props.user.name}</td>\n      <td>\n        <Link to={\"/edit/\"+props.user._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteUser(props.user._id) }}>delete</a>\n      </td>\n    </tr>\n  )\n\n  const Achievement = props => (\n    <tr>\n      <td>{props.achievement.model}</td>\n      <td>{props.achievement.field}</td>\n      <td>{props.achievement.operator}</td>\n      <td>{props.achievement.condition}</td>\n      <td>\n        <Link to={\"/edit-achievement/\"+props.achievement._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteAchievement(props.achievement._id) }}>delete</a>\n      </td>\n    </tr>\n  )\n\nexport default class Dashboard extends Component {\n    constructor(props) {\n        super(props);\n        this.deleteChallenge = this.deleteChallenge.bind(this);\n        this.deleteWorkout = this.deleteWorkout.bind(this);\n        this.deleteJournal = this.deleteJournal.bind(this);\n        this.deleteAdmin = this.deleteAdmin.bind(this);\n        this.deleteUser = this.deleteUser.bind(this);\n        this.deleteAchievement = this.deleteAchievement.bind(this);\n        this.onChangeUserSearch = this.onChangeUserSearch.bind(this);\n        this.state = {\n          challenges: [],\n          allworkouts: [], \n          alljournals: [], \n          admins: [], \n          allusers: [], \n          achievements: [],\n          usersearch: \"\",\n          workouts: [], \n          journals: [], \n          users: [], \n          data: []\n        };\n      }\n\n      onChangeUserSearch(e) {\n        this.setState({\n          usersearch: e.target.value\n        }, function() { // execute after state is updated (also checkout componentDidUpdate)\n          this.setState({\n            workouts: this.state.allworkouts.filter(workout =>\n              workout.email.toLowerCase().includes(this.state.usersearch.toLowerCase())\n            ),\n            journals: this.state.alljournals.filter(journal =>\n              journal.email.toLowerCase().includes(this.state.usersearch.toLowerCase())\n            ),\n            users: this.state.allusers.filter(user =>\n              user.email.toLowerCase().includes(this.state.usersearch.toLowerCase())\n            )\n           }, function () {\n            this.setState({\n             data: [\n               {\n                 name: 'Total Workouts',\n                 value: this.uniqueWorkouts()\n               },\n                   {\n                     name: 'Total Reps',\n                     value: this.repsSum()\n                   },\n                   {\n                     name: 'Total Weight',\n                     value: this.weightSum()\n                   }\n                   \n                 ]\n            });\n           });\n           \n        }\n        );\n      }\n\n      componentDidMount() {\n        axios.get('http://localhost:5000/challenges/')\n         .then(response => {\n           this.setState({ challenges: response.data });\n         })\n         .catch((error) => {\n            console.log(error);\n         })\n\n        axios.get('http://localhost:5000/workouts/')\n         .then(response => {\n           this.setState({ \n             allworkouts: response.data, \n             workouts: response.data\n            });\n\n           this.setState({\n            data: [\n              {\n                name: 'Total Workouts',\n                value: this.uniqueWorkouts()\n              },\n                  {\n                    name: 'Total Reps',\n                    value: this.repsSum()\n                  },\n                  {\n                    name: 'Total Weight',\n                    value: this.weightSum()\n                  }\n                  \n                ]\n           });\n           \n         })\n         .catch((error) => {\n            console.log(error);\n         })\n\n         axios.get('http://localhost:5000/journals/')\n         .then(response => {\n           this.setState({ \n             alljournals: response.data,\n             journals: response.data\n             });\n         })\n         .catch((error) => {\n            console.log(error);\n         })\n\n         axios.get('http://localhost:5000/admins/')\n         .then(response => {\n           this.setState({ \n             admins: response.data \n            });\n         })\n         .catch((error) => {\n            console.log(error);\n         })\n\n         axios.get('http://localhost:5000/users/')\n         .then(response => {\n           this.setState({ \n             allusers: response.data,\n             users: response.data \n            });\n         })\n         .catch((error) => {\n            console.log(error);\n         })\n\n         axios.get('http://localhost:5000/achievements/')\n         .then(response => {\n           this.setState({ \n             achievements: response.data \n            });\n         })\n         .catch((error) => {\n            console.log(error);\n         })          \n      }\n\n      deleteChallenge(id) {\n        axios.delete('http://localhost:5000/challenges/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          challenges: this.state.challenges.filter(el => el._id !== id)\n        })\n      }\n\n      deleteWorkout(id) {\n        axios.delete('http://localhost:5000/workouts/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          workouts: this.state.workouts.filter(el => el._id !== id)\n        })\n      }\n\n      deleteJournal(id) {\n        axios.delete('http://localhost:5000/journals/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          journals: this.state.journals.filter(el => el._id !== id)\n        })\n      }\n      deleteAdmin(id) {\n        axios.delete('http://localhost:5000/admins/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          admins: this.state.admins.filter(el => el._id !== id)\n        })\n      }\n      deleteUser(id) {\n        axios.delete('http://localhost:5000/users/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          users: this.state.users.filter(el => el._id !== id)\n        })\n      }\n      deleteAchievement(id) {\n        axios.delete('http://localhost:5000/achievements/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          achievements: this.state.achievements.filter(el => el._id !== id)\n        })\n      }\n\n  render() {\n    return (\n        <div>\n      \n          <form>\n          <div className=\"form-group\"> \n            <label><h3>User Search</h3></label>\n            <input  type=\"text\"\n                className=\"form-control\"\n                onChange={this.onChangeUserSearch}\n                />\n          </div>\n        </form>\n        <h3>Users</h3>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Email</th>\n              <th>Password</th>\n              <th>Name</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n\n       \n            { this.userList() }\n          </tbody>\n        </table>\n        <h3>Logged Workouts</h3>\n        \n        {this.drawChart()}\n      \n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Email</th>\n              <th>Workout</th>\n              <th>Reps</th>\n              <th>Weight</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.workoutList() }\n          </tbody>\n        </table>\n        <h3>Logged Journals</h3>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Email</th>\n              <th>Title</th>\n              <th>Text</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.journalList() }\n          </tbody>\n        </table>\n        <h3>Admins</h3>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Email</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.adminList() }\n          </tbody>\n        </table>\n        <h3>Achievements</h3>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Model</th>\n              <th>Field</th>\n              <th>Operator</th>\n              <th>Condition</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.achievementList() }\n          </tbody>\n        </table>\n\n        <h3>Daily Challenges</h3>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Content</th>\n              <th>Point Value</th>\n              <th>Start Time</th>\n              <th>End Time</th>\n          </tr>\n          </thead>\n          <tbody>\n              { this.challengeList() }\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  challengeList() {\n    return this.state.challenges.map(currentchallenge => {\n      return <Challenge challenge={currentchallenge} deleteChallenge={this.deleteChallenge} key={currentchallenge._id}/>;\n    })\n  }\n\n  workoutList() {\n    return this.state.workouts.map(currentworkout => {\n  \n      return <Workout workout={currentworkout} deleteWorkout={this.deleteWorkout} key={currentworkout._id}/>;\n      \n    })\n  }\n\n  plot(chart, width, height) {  \n    // create scales!\n    const xScale = d3.scaleBand()\n        .domain(this.state.data.map(d => d.name))\n        .range([0, width]);\n    const yScale = d3.scaleLinear()\n        .domain([0, d3.max(this.state.data, d => d.value)])\n        .range([height, 0]);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n\n    chart.selectAll('.bar')\n        .data(this.state.data)\n        .enter()\n        .append('rect')\n        .classed('bar', true)\n        .attr('x', d => xScale(d.name))\n        .attr('y', d => yScale(d.value))\n        .attr('height', d => (height - yScale(d.value)))\n        .attr('width', d => xScale.bandwidth())\n        .style('fill', (d, i) => colorScale(i));\n\n    chart.selectAll('.bar-label')\n        .data(this.state.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', d => xScale(d.name) + xScale.bandwidth()/2)\n        .attr('dx', 0)\n        .attr('y', d => yScale(d.value))\n        .attr('dy', -6)\n        .text(d => d.value);\n\n    const xAxis = d3.axisBottom()\n        .scale(xScale);\n        \n    chart.append('g')\n        .classed('x axis', true)\n        .attr('transform', `translate(0,${height})`)\n        .call(xAxis);\n\n    const yAxis = d3.axisLeft()\n        .ticks(5)\n        .scale(yScale);\n\n    chart.append('g')\n        .classed('y axis', true)\n        .attr('transform', 'translate(0,0)')\n        .call(yAxis);\n\n    chart.select('.x.axis')\n        .append('text')\n        .attr('x',  width/2)\n        .attr('y', 60)\n        .attr('fill', '#000')\n        .style('font-size', '20px')\n        .style('text-anchor', 'middle')\n        .text('Name');    \n        \n    chart.select('.y.axis')\n        .append('text')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('transform', `translate(-50, ${height/2}) rotate(-90)`)\n        .attr('fill', '#000')\n        .style('font-size', '20px')\n        .style('text-anchor', 'middle')\n        .text('Total');   \n        \n    const yGridlines = d3.axisLeft()\n        .scale(yScale)\n        .ticks(5)\n        .tickSize(-width,0,0)\n        .tickFormat('')\n\n    chart.append('g')\n        .call(yGridlines)\n        .classed('gridline', true);\n}\n\ndrawChart() {\n    const width = 800;\n    const height = 450;\n\n    const el = new Element('div');\n    const svg = d3.select(el)\n        .append('svg')\n        .attr('id', 'chart')\n        .attr('width', width)\n        .attr('height', height);\n\n    const margin = {\n        top: 60,\n        bottom: 100,\n        left: 80,\n        right: 40\n    };\n\n    const chart = svg.append('g')\n        .classed('display', true)\n        .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom\n    this.plot(chart, chartWidth, chartHeight);\n\n    return el.toReact();\n}\n\n  uniqueWorkouts() {\n    var counts = {};\n    for (var i = 0; i < this.state.workouts.length; i++) {\n        counts[this.state.workouts[i].workout] = 1 + (counts[this.state.workouts[i].workout] || 0);\n    }\n    // return Object.keys(counts).length;\n    return Object.keys(counts).reduce((sum,key)=>sum+parseFloat(counts[key]||0),0);\n  }\n\n  repsSum() {\n    var sum = 0;\n    this.state.workouts.forEach(currentworkout => {\n      sum += currentworkout.reps;\n    });\n    return sum;\n  }\n\n  weightSum() {\n    var sum = 0;\n    this.state.workouts.forEach(currentworkout => {\n\n      sum += currentworkout.weight;\n      \n    });\n    return sum;\n  }\n\n  journalList() {\n    return this.state.journals.map(currentjournal => {\n      \n      return <Journal journal={currentjournal} deleteJournal={this.deleteJournal} key={currentjournal._id}/>;\n      \n    })\n  }\n\n  adminList() {\n    return this.state.admins.map(currentadmin => {\n      return <Admin admin={currentadmin} deleteAdmin={this.deleteAdmin} key={currentadmin._id}/>;\n    })\n  }\n\n  userList() {\n    return this.state.users.map(currentuser => {\n      return <User user={currentuser} deleteUser={this.deleteUser} key={currentuser._id}/>;\n    })\n  }\n\n  achievementList() {\n    return this.state.achievements.map(currentachievement => {\n      return <Achievement achievement={currentachievement} deleteAchievement={this.deleteAchievement} key={currentachievement._id}/>;\n    })\n  }\n}"]},"metadata":{},"sourceType":"module"}